<!--<div class="info" style="padding-top: 25px; color: var(--colour1); font-size: 0.8em;"> 
    
</div>-->
<script type="text/javascript" src="/static/home.js"></script>

<div class="titlesHome">
    <div class="welcomeText">
    MINE THE CHAINS
    </div>

    <div class="welcomeText" style="font-size: 25px; color: var(--colour1); margin: 0px 0px 25px 0px">
        A Komodo & AssetChain Mining Pool
    </div>

    <div class="info" style="font-size: 1.1em">
        If your AssetChain project is in need of a mining pool, please email minethechain@protonmail.com to enquire about having one set up.
    </div>
</div>

<div id="holder">
        <div id="menu">
{{ for(var pool in it.stats.pools) { }}
<div class="menuHeader" style="text-align: center; margin: 10px">
        {{=it.stats.pools[pool].name}}
</div>

<div class="flex-container">
    <div class="bannerHome">
            <div class="boxLowerHeaderHome">Block Height</div>
                    <div class="infotextHome">
                        <span id="statsNetworkBlocks{{=pool}}">{{=it.stats.pools[pool].poolStats.networkBlocks}}</span>
                    </div>                         
    </div>

    <div class="bannerHome">
            <div class="boxLowerHeaderHome">Difficulty</div>
                    <div class="infotextHome">
                            <span id="statsNetworkDiff{{=pool}}">{{=it.stats.pools[pool].poolStats.networkDiff}}</span>
                    </div>                         
    </div>

    <div class="bannerHome">
            <div class="boxLowerHeaderHome">Network Hash</div>
                    <div class="infotextHome">
                            <span id="statsNetworkSols{{=pool}}">{{=it.stats.pools[pool].poolStats.networkSolsString}}</span>
                    </div>                         
    </div>

    <div class="bannerHome">
            <div class="boxLowerHeaderHome">Pool Hash</div>
                <div class="infotextHome">
                    <span id="statsHashrate{{=pool}}">{{=it.stats.pools[pool].hashrateString}}</span> 
                </div>
     </div>

    <div class="bannerHome">
            <div class="boxLowerHeaderHome">Blocks Found</div>
                <div class="infotextHome">
                    <span id="#statsValidBlocks{{=pool}}">{{=it.stats.pools[pool].poolStats.validBlocks}}</span> 
                </div>
     </div>

     <div class="bannerHome">
        <div class="boxLowerHeaderHome">Total Paid</div>
            <div class="infotextHome">
                <span id="statsTotalPaid{{=pool}}"><div>{{=(parseFloat(it.stats.pools[pool].poolStats.totalPaid)).toFixed(2)}}</div>
            </div>
    </div>
</div>
{{ } }}

<div id="coinDetails" class="menuHeader" style="text-align: center; margin: 10px">Coin Price Information</div>
    <div class="flex-container">
        <div class="coinPaprika">
            <script type="text/javascript" src="https://unpkg.com/@coinpaprika/widget-currency/dist/widget.min.js"></script><div class="coinpaprika-currency-widget cp-widget__night-mode" data-primary-currency="USD" data-currency="kmd-komodo" data-modules='["market_details","chart"]' data-update-active="false"></div>
        </div>

        <div class="coinPaprika">
            <script type="text/javascript" src="https://unpkg.com/@coinpaprika/widget-currency/dist/widget.min.js"></script><div class="coinpaprika-currency-widget cp-widget__night-mode" data-primary-currency="USD" data-currency="arrr-pirate" data-modules='["market_details","chart"]' data-update-active="false"></div>
        </div>
    </div>

<div class="menuHeader" style="text-align: center"> 
            Pool Information
        </div>
        <div class="info" style="color: var(--colour1)">
        <table style="margin: auto;  padding-bottom: 15px; width: 400px; text-align: left; font-family: var(--font1); table-layout: inherit">
            <tbody>
                <tr>
                    <td>Coin:</td>
                    <td>ARRR</td>
                    <td>KMD</td>
                </tr>
                <tr>
                    <td>Payout Frequency:</td>
                    <td> ~3mins</td>
                    <td> ~10mins</td>
                </tr>
                <tr>
                    <td>Min Payout:</td>
                    <td>10</td>
                    <td>0.5</td>
                </tr>
                <tr>
                    <td>Pool Fee:</td>
                    <td>1%</td>
                    <td>1%</td>
                </tr>
            </tbody>
        </table>
        <div style="font-size: 0.8em; color: var(--colour3);">We are helping the Pirate community by donating 0.25% of the ARRR fee to the Pirate Marketing fund.</div>
    </div><br>

    <div class="menuHeader" style="text-align: center">
        Pool Support<br>
    </div>
    <div class="info" style="font-size: 1.1em">
        For any pool questions or inqueries, please email minethechain@protonmail.com.
    </div>

</div>
</div>

<div id="KMDPrice"></div>

 <!--   <div class="info" style="padding-top: 25px; color: var(--colour1);">
        Pirate Links<br>
    </div>
    <div class="info" style="font-size: 1.1em;">
            <div><a href="https://pirate.black" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">pirate.black</a></div>
            <div><a href="https://discord.gg/pfVuHCD" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Discord Server</a></div>
            <div><a href="https://digitalprice.io/?inviter=4fdaf7" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">DigiPrice Trading</a></div>
            <div><a href="https://github.com/KomodoPlatform/Agama/releases" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Agama Wallet</a></div>
            <div><a href="https://twitter.com/PirateChain" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Pirate Twitter</a></div>
            <div><a href="https://www.reddit.com/r/PirateChain" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Reddit</a></div>
            <div><a href="https://www.youtube.com/channel/UC-T-lFJpcCXn1EZ8cuc-d3Q?view_as=subscriber" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Youtube</a></div>
            <div><a href="https://github.com/PirateNetwork" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">GitHub</a></div>
            <div><a href="https://bitcointalk.org/index.php?topic=4979549" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">BTT</a></div>
            <div><a href="http://pirate.explorer.dexstats.info" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Explorer</a></div>
            <div><a href="https://explorer.pirate.black/" target="blank" rel="noopener noreferrer" style="color: var(--colour2);">Pirate Explorer</a></div>
    </div>
-->
<script>
    //document.querySelector('main').appendChild(document.createElement('script')).src = '/static/stats.js';

    $(function() {
        window.statsSource = new EventSource("/api/live_stats");

        statsSource.addEventListener('message', function (e) {
            var stats = JSON.parse(e.data);
            for (var pool in stats.pools) {
				$('#statsMiners' + pool).text(stats.pools[pool].minerCount);
                $('#statsWorkers' + pool).text(stats.pools[pool].workerCount);
                $('#statsHashrate' + pool).text(stats.pools[pool].hashrateString);
				$('#statsHashrateAvg' + pool).text(getReadableHashRateString(calculateAverageHashrate(pool)));
				$('#statsLuckDays' + pool).text(stats.pools[pool].luckDays);
				$('#statsValidBlocks' + pool).text(stats.pools[pool].poolStats.validBlocks);
				$('#statsTotalPaid' + pool).text((parseFloat(stats.pools[pool].poolStats.totalPaid)).toFixed(8));
				$('#statsNetworkBlocks' + pool).text(stats.pools[pool].poolStats.networkBlocks);
				$('#statsNetworkDiff' + pool).text(stats.pools[pool].poolStats.networkDiff);
				$('#statsNetworkSols' + pool).text(getReadableNetworkHashRateString(stats.pools[pool].poolStats.networkSols));
				$('#statsNetworkConnections' + pool).text(stats.pools[pool].poolStats.networkConnections);
            }
            
            for (algo in stats.algos) {
                $('#statsMiners' + algo).text(stats.algos[algo].workers);
                $('#statsHashrate' + algo).text(stats.algos[algo].hashrateString);
            }
        });
    });
</script>